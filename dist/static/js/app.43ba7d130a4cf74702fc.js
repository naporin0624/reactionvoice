webpackJsonp([1],{"1uuo":function(t,e){},"3L6q":function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("7+uW"),a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]},s=n("VU/8")({name:"App"},a,!1,null,null,null).exports,o=n("/ocq"),r=n("mtWM"),c=n.n(r),l={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"hello"},[n("h1",[t._v(t._s(t.msg))]),t._v(" "),n("h2",[t._v("Essential Links")]),t._v(" "),t._m(0),t._v(" "),n("h2",[t._v("Ecosystem")]),t._v(" "),t._m(1)])},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",[n("li",[n("a",{attrs:{href:"https://vuejs.org",target:"_blank"}},[t._v("\n        Core Docs\n      ")])]),t._v(" "),n("li",[n("a",{attrs:{href:"https://forum.vuejs.org",target:"_blank"}},[t._v("\n        Forum\n      ")])]),t._v(" "),n("li",[n("a",{attrs:{href:"https://chat.vuejs.org",target:"_blank"}},[t._v("\n        Community Chat\n      ")])]),t._v(" "),n("li",[n("a",{attrs:{href:"https://twitter.com/vuejs",target:"_blank"}},[t._v("\n        Twitter\n      ")])]),t._v(" "),n("br"),t._v(" "),n("li",[n("a",{attrs:{href:"http://vuejs-templates.github.io/webpack/",target:"_blank"}},[t._v("\n        Docs for This Template\n      ")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[e("a",{attrs:{href:"http://router.vuejs.org/",target:"_blank"}},[this._v("\n        vue-router\n      ")])]),this._v(" "),e("li",[e("a",{attrs:{href:"http://vuex.vuejs.org/",target:"_blank"}},[this._v("\n        vuex\n      ")])]),this._v(" "),e("li",[e("a",{attrs:{href:"http://vue-loader.vuejs.org/",target:"_blank"}},[this._v("\n        vue-loader\n      ")])]),this._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/vuejs/awesome-vue",target:"_blank"}},[this._v("\n        awesome-vue\n      ")])])])}]};n("VU/8")({name:"HelloWorld",data:function(){return{msg:"Welcome to Your Vue.js App"}}},l,!1,function(t){n("1uuo")},"data-v-d8ec41bc",null).exports;var u={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"disctiption"},[n("label",[t._v("使い方")]),t._v(" "),n("ol",[n("li",[t._v("録音開始ボタンを押してね")]),t._v(" "),n("li",[t._v("「反応させたい言葉」に単語を入れてね")]),t._v(" "),n("li",[t._v("好きな「放送タイトル」を選択してね")]),t._v(" "),n("li",[t._v("放送タイトルを選択してから「反応ボイス」を選んでね")]),t._v(" "),n("li",[t._v("あとはその単語を喋れば遊べるよ！")])]),t._v(" "),n("label",[t._v("注意事項")]),t._v(" "),n("ul",[n("li",[t._v("chromeのみしか動作しません；；ごめんね〜")]),t._v(" "),n("li",[t._v("最大20個まで反応する言葉を作ることができるよ")]),t._v(" "),n("li",[t._v("反応しなくなったらもう一度音声取得開始モードにしてね")]),t._v(" "),n("li",[t._v("\n      認識した言葉と同じ文字を入れてね\n      例えば「楽しい」と「たのしい」は別の文字として認識されるよ\n    ")])])])}]};var v=n("VU/8")({name:"discription"},u,!1,function(t){n("3L6q")},null,null).exports,h={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("br"),this._v(" "),e("div",{staticClass:"img"},[e("img",{staticClass:"natori-sana-icon",attrs:{src:"https://yt3.ggpht.com/a-/ACSszfGXKWd3tA-jxTE7DavDR6ElciSzd7mHOSyFJA=s900-mo-c-c0xffffffff-rj-k-no",alt:"名取さなのアイコン",width:"30%"}}),this._v(" "),e("a",{attrs:{href:"https://twitter.com/sana_natori"}},[e("img",{attrs:{src:"static/images/Twitter.png",alt:"Twitter アカウントへのリンク画像"}})]),this._v(" "),e("a",{attrs:{href:"https://www.youtube.com/channel/UCIdEIHpS0TdkqRkHL5OkLtA"}},[e("img",{attrs:{src:"static/images/Youtube.png",alt:"YouTube チャンネルへのリンク画像"}})]),this._v(" "),e("br"),this._v("名取さな/Sana Natori\n  ")]),this._v(" "),e("a",{staticClass:"twitter-timeline",attrs:{href:"https://twitter.com/sana_natori?ref_src=twsrc%5Etfw","data-width":"100%","data-height":"570"}},[this._v("Tweets by sana_natori")])])}]};var p=n("VU/8")({name:"natoriWedgets"},h,!1,function(t){n("X0FY")},null,null).exports,g={name:"Main",components:{"discription-component":v,"natori-component":p},data:function(){return{apiHost:"https://responsa-na.herokuapp.com/",recognition:new webkitSpeechRecognition,showInputText:"",broadcastCategory:null,audioObj:new Audio,audioFlag:!0,recogFlag:!1,playQue:[],voiceLinkTexts:[{unique:0,select:{category:null,name:null},nameList:null,input:null,audio:null}]}},methods:{toggle:function(){this.recogFlag=!this.recogFlag,this.recogFlag?this.recognition.start():this.recognition.stop()},listPush:function(){this.voiceLinkTexts.push(this.independentObejct())},independentObejct:function(){return{unique:this.voiceLinkTexts.length,select:{category:null,name:null},nameList:null,input:null,audio:null}},axiosGetCategory:function(){var t=this;c.a.get(this.apiHost+"/api/sana/category").then(function(e){t.broadcastCategory=e.data.categorylist}).catch(function(t){console.log(t)}).then(console.log("getCategory finsish"))},axiosGetNameList:function(t){var e=this;c.a.get(this.apiHost+"/api/sana/names",{params:{category:t.select.category}}).then(function(n){e.voiceLinkTexts[t.unique].nameList=n.data.voicelist}).catch(function(t){console.log(t)}).then(console.log("getNameList finish"))},axiosGetURL:function(t){var e=this;return c.a.get(this.apiHost+"/api/sana/voiceurl",{params:{category:t.select.category,name:t.select.name}}).then(function(n){e.voiceLinkTexts[t.unique].audio=n.data.voiceurl}).catch(function(t){console.log(t)}).then(console.log("getURL finish"))},delInputBox:function(t){this.voiceLinkTexts.splice(t.unique,1);for(var e=0;e<this.voiceLinkTexts.length;e++)this.voiceLinkTexts[e].unique=e},audioSetQue:function(t){for(var e=0;e<this.voiceLinkTexts.length;e++){var n=this.voiceLinkTexts[e];~t.indexOf(n.input)&&this.playQue.push(n.audio)}}},computed:{canPush:function(){return this.voiceLinkTexts.length<20},canDelete:function(){return this.voiceLinkTexts.length-1}},watch:{playQue:function(){this.playQue.length>0&&this.audioFlag&&(this.audioObj.src=this.playQue[0],this.audioFlag=!1,this.audioObj.play())}},created:function(){var t=this;this.axiosGetCategory(),this.recognition.lang="ja",this.recognition.interimResults=!0,this.recognition.maxAlternatives=1,this.recognition.continuous=!0,this.recognition.onend=function(){t.recogFlag&&t.recognition.start()},this.recognition.onresult=function(e){var n=e.results[e.resultIndex];t.showInputText=n[0].transcript,n.isFinal&&t.audioSetQue(n[0].transcript)},this.audioObj.addEventListener("ended",function(){t.playQue.shift(),t.audioFlag=!0})}},d={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h1",{staticClass:"title"},[t._v("ResponSa-na")]),t._v(" "),n("div",{staticClass:"start-button-contents"},[n("label",[t._v("音声認識ボタンをおしてね！")]),t._v(" "),n("button",{directives:[{name:"show",rawName:"v-show",value:!t.recogFlag,expression:"!recogFlag"}],staticClass:"start",on:{click:t.toggle}},[t._v("音声取得開始")]),t._v(" "),n("button",{directives:[{name:"show",rawName:"v-show",value:t.recogFlag,expression:"recogFlag"}],staticClass:"end",on:{click:t.toggle}},[t._v("音声取得停止")])]),t._v(" "),n("div",{staticClass:"separate"},[n("div",{staticClass:"left-box"},[n("a",{staticClass:"twitter-share-button",attrs:{href:"https://twitter.com/share?ref_src=twsrc%5Etfw","data-show-count":"true"}},[t._v("Tweet")]),t._v(" "),n("p",[t._v("喋った言葉をここに表示するよ")]),t._v(" "),n("div",{staticClass:"input-text"},[n("p",[t._v(t._s(t.showInputText))])]),t._v(" "),n("discription-component")],1),t._v(" "),n("div",{staticClass:"center-box"},[n("button",{staticClass:"add-form",attrs:{disabled:!t.canPush},on:{click:t.listPush}},[t._v("追加する")]),t._v(" "),t._m(0),t._v(" "),t._l(t.voiceLinkTexts,function(e){return n("div",{key:e.unique,staticClass:"form"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.input,expression:"vlt.input"}],staticStyle:{width:"150px"},attrs:{type:"text"},domProps:{value:e.input},on:{input:function(n){n.target.composing||t.$set(e,"input",n.target.value)}}}),t._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:e.select.category,expression:"vlt.select.category"}],staticStyle:{width:"200px"},on:{change:[function(n){var i=Array.prototype.filter.call(n.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(e.select,"category",n.target.multiple?i:i[0])},function(n){t.axiosGetNameList(e)}]}},[n("option",{attrs:{disabled:"",value:""}},[t._v("Please select one")]),t._v(" "),t._l(t.broadcastCategory,function(e){return n("option",{key:e+Math.random()},[t._v(t._s(e))])})],2),t._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:e.select.name,expression:"vlt.select.name"}],staticStyle:{width:"100px"},on:{change:[function(n){var i=Array.prototype.filter.call(n.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(e.select,"name",n.target.multiple?i:i[0])},function(n){t.axiosGetURL(e)}]}},[n("option",{attrs:{disabled:"",value:""}},[t._v("Please select one")]),t._v(" "),t._l(e.nameList,function(e){return n("option",{key:e+Math.random()},[t._v(t._s(e))])})],2),t._v(" "),n("button",{attrs:{disabled:!t.canDelete},on:{click:function(n){t.delInputBox(e)}}},[t._v("削除する")])])})],2),t._v(" "),n("div",{staticClass:"right-box"},[n("natori-component")],1)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("span",{staticClass:"input-box-label"},[this._v("反応させたい言葉")]),this._v(" "),e("span",{staticClass:"select-category-label"},[this._v("放送タイトル")]),this._v(" "),e("span",{staticClass:"select-contents-label"},[this._v("反応ボイス")])])}]};var _=n("VU/8")(g,d,!1,function(t){n("mXvH")},null,null).exports,m={name:"Main",components:{"discription-component":v,"natori-component":p},data:function(){return{apiHost:"http://localhost:5000/",recognition:new webkitSpeechRecognition,showInputText:"",broadcastCategory:null,audioObj:new Audio,audioFlag:!0,recogFlag:!1,playQue:[],voiceLinkTexts:[{unique:0,select:{category:null,name:null},nameList:null,input:null,audio:null}]}},methods:{toggle:function(){this.recogFlag=!this.recogFlag,this.recogFlag?this.recognition.start():this.recognition.stop()},listPush:function(){this.voiceLinkTexts.push(this.independentObejct())},independentObejct:function(){return{unique:this.voiceLinkTexts.length,select:{category:null,name:null},nameList:null,input:null,audio:null}},axiosGetCategory:function(){var t=this;c.a.get(this.apiHost+"/api/onyanko/category").then(function(e){t.broadcastCategory=e.data.categorylist}).catch(function(t){console.log(t)}).then(console.log("getCategory finsish"))},axiosGetNameList:function(t){var e=this;c.a.get(this.apiHost+"/api/onyanko/names",{params:{category:t.select.category}}).then(function(n){e.voiceLinkTexts[t.unique].nameList=n.data.voicelist}).catch(function(t){console.log(t)}).then(console.log("getNameList finish"))},axiosGetURL:function(t){var e=this;return c.a.get(this.apiHost+"/api/onyanko/voiceurl",{params:{category:t.select.category,name:t.select.name}}).then(function(n){e.voiceLinkTexts[t.unique].audio=n.data.voiceurl}).catch(function(t){console.log(t)}).then(console.log("getURL finish"))},delInputBox:function(t){this.voiceLinkTexts.splice(t.unique,1);for(var e=0;e<this.voiceLinkTexts.length;e++)this.voiceLinkTexts[e].unique=e},audioSetQue:function(t){for(var e=0;e<this.voiceLinkTexts.length;e++){var n=this.voiceLinkTexts[e];~t.indexOf(n.input)&&this.playQue.push(n.audio)}}},computed:{canPush:function(){return this.voiceLinkTexts.length<20},canDelete:function(){return this.voiceLinkTexts.length-1}},watch:{playQue:function(){this.playQue.length>0&&this.audioFlag&&(this.audioObj.src=this.playQue[0],this.audioFlag=!1,this.audioObj.play())}},created:function(){var t=this;this.axiosGetCategory(),this.recognition.lang="ja",this.recognition.interimResults=!0,this.recognition.maxAlternatives=1,this.recognition.continuous=!0,this.recognition.onend=function(){t.recogFlag&&t.recognition.start()},this.recognition.onresult=function(e){var n=e.results[e.resultIndex];t.showInputText=n[0].transcript,n.isFinal&&t.audioSetQue(n[0].transcript)},this.audioObj.addEventListener("ended",function(){t.playQue.shift(),t.audioFlag=!0})}},f={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h1",{staticClass:"title"},[t._v("ResponSa-na")]),t._v(" "),n("div",{staticClass:"start-button-contents"},[n("label",[t._v("音声認識ボタンをおしてね！")]),t._v(" "),n("button",{directives:[{name:"show",rawName:"v-show",value:!t.recogFlag,expression:"!recogFlag"}],staticClass:"start",on:{click:t.toggle}},[t._v("音声取得開始")]),t._v(" "),n("button",{directives:[{name:"show",rawName:"v-show",value:t.recogFlag,expression:"recogFlag"}],staticClass:"end",on:{click:t.toggle}},[t._v("音声取得停止")])]),t._v(" "),n("div",{staticClass:"separate"},[n("div",{staticClass:"left-box"},[n("a",{staticClass:"twitter-share-button",attrs:{href:"https://twitter.com/share?ref_src=twsrc%5Etfw","data-show-count":"true"}},[t._v("Tweet")]),t._v(" "),n("p",[t._v("喋った言葉をここに表示するよ")]),t._v(" "),n("div",{staticClass:"input-text"},[n("p",[t._v(t._s(t.showInputText))])]),t._v(" "),n("discription-component")],1),t._v(" "),n("div",{staticClass:"center-box"},[n("button",{staticClass:"add-form",attrs:{disabled:!t.canPush},on:{click:t.listPush}},[t._v("追加する")]),t._v(" "),t._m(0),t._v(" "),t._l(t.voiceLinkTexts,function(e){return n("div",{key:e.unique,staticClass:"form"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.input,expression:"vlt.input"}],staticStyle:{width:"150px"},attrs:{type:"text"},domProps:{value:e.input},on:{input:function(n){n.target.composing||t.$set(e,"input",n.target.value)}}}),t._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:e.select.category,expression:"vlt.select.category"}],staticStyle:{width:"200px"},on:{change:[function(n){var i=Array.prototype.filter.call(n.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(e.select,"category",n.target.multiple?i:i[0])},function(n){t.axiosGetNameList(e)}]}},[n("option",{attrs:{disabled:"",value:""}},[t._v("Please select one")]),t._v(" "),t._l(t.broadcastCategory,function(e){return n("option",{key:e+Math.random()},[t._v(t._s(e))])})],2),t._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:e.select.name,expression:"vlt.select.name"}],staticStyle:{width:"100px"},on:{change:[function(n){var i=Array.prototype.filter.call(n.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(e.select,"name",n.target.multiple?i:i[0])},function(n){t.axiosGetURL(e)}]}},[n("option",{attrs:{disabled:"",value:""}},[t._v("Please select one")]),t._v(" "),t._l(e.nameList,function(e){return n("option",{key:e+Math.random()},[t._v(t._s(e))])})],2),t._v(" "),n("button",{attrs:{disabled:!t.canDelete},on:{click:function(n){t.delInputBox(e)}}},[t._v("削除する")])])})],2),t._v(" "),n("div",{staticClass:"right-box"},[n("natori-component")],1)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("span",{staticClass:"input-box-label"},[this._v("反応させたい言葉")]),this._v(" "),e("span",{staticClass:"select-category-label"},[this._v("放送タイトル")]),this._v(" "),e("span",{staticClass:"select-contents-label"},[this._v("反応ボイス")])])}]};var x=n("VU/8")(m,f,!1,function(t){n("sdFZ")},null,null).exports;i.a.use(o.a);var y=new o.a({routes:[{path:"/",name:"ReactionNatori",component:_},{path:"/onyanko",name:"ReactionOnyanko",conponent:x}]});i.a.config.productionTip=!1,new i.a({el:"#app",router:y,components:{App:s},template:"<App/>"})},X0FY:function(t,e){},mXvH:function(t,e){},sdFZ:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.43ba7d130a4cf74702fc.js.map